import React, { Component } from 'react';
import createPlotlyComponent from 'react-plotlyjs';
import Plotly from 'plotly.js-dist';

class PlotlyDotChart extends Component {
    render() {
        const PlotlyComponent = createPlotlyComponent(Plotly);

        let config = {
            showLink: false,
            displayModeBar: true
        };
        var x = ["-5.933556483", "-5.699620807", "-5.650399316", "-5.526565548", "-6.368754051", "-6.140579977", "-4.452856335", "-6.590815842", "-4.900621232", "-6.776358598", "-3.299248823", "-6.151185467", "-3.920412511", "-5.765200219", "-5.743341433", "-6.046696429", "-4.551326722", "-4.851285838", "-4.950603329", "-5.142530565", "-6.151635992", "-3.795200489", "-3.939720906", "-6.098026972", "-6.057979511", "-5.60314939", "-6.046424695", "-5.283640654", "-5.31684222", "-3.707576362", "-4.304464199", "-5.658020631", "-5.469346184", "-5.539729187", "-5.764965407", "-5.496557764", "-5.281293709", "-5.394138276", "-4.575662847", "-4.876414383", "-0.692603311", "0.77775568", "0.976464466", "-0.223574148", "2.312929251", "0.935763568", "1.73830554", "2.450414159", "0.866561957", "2.897334565", "2.892995179", "0.622718434", "1.234091667", "3.036598565", "2.143298808", "0.051100666", "0.846815253", "1.712004218", "2.417712026", "0.566564258", "1.633595338", "1.591308795", "1.367253651", "0.392768167", "3.075062581", "1.212757701", "2.404416427", "1.573226769", "2.410314499", "0.709528993", "1.874426854", "0.863663068", "3.334079761", "3.013044361", "0.554351629", "0.094579789", "2.699770012", "0.776099832", "3.042749544", "3.259419038", "-4.46256209", "-2.404911822", "-3.207276969", "-2.770617479", "-2.867797381", "-3.378594373", "-3.084490031", "-3.491473624", "-3.827917198", "-3.24428938", "-2.98709859", "-3.107061954", "-4.849372961", "-3.743601917", "-0.511499257", "-3.780286652", "-3.081478096", "-1.906131111", "-2.195100435", "-3.03376777"]
        var y = ["-5.933556483", "-5.699620807", "-5.650399316", "-5.526565548", "-6.368754051", "-6.140579977", "-4.452856335", "-6.590815842", "-4.900621232", "-6.776358598", "-3.299248823", "-6.151185467", "-3.920412511", "-5.765200219", "-5.743341433", "-6.046696429", "-4.551326722", "-4.851285838", "-4.950603329", "-5.142530565", "-6.151635992", "-3.795200489", "-3.939720906", "-6.098026972", "-6.057979511", "-5.60314939", "-6.046424695", "-5.283640654", "-5.31684222", "-3.707576362", "-4.304464199", "-5.658020631", "-5.469346184", "-5.539729187", "-5.764965407", "-5.496557764", "-5.281293709", "-5.394138276", "-4.575662847", "-4.876414383", "-0.692603311", "0.77775568", "0.976464466", "-0.223574148", "2.312929251", "0.935763568", "1.73830554", "2.450414159", "0.866561957", "2.897334565", "2.892995179", "0.622718434", "1.234091667", "3.036598565", "2.143298808", "0.051100666", "0.846815253", "1.712004218", "2.417712026", "0.566564258", "1.633595338", "1.591308795", "1.367253651", "0.392768167", "3.075062581", "1.212757701", "2.404416427", "1.573226769", "2.410314499", "0.709528993", "1.874426854", "0.863663068", "3.334079761", "3.013044361", "0.554351629", "0.094579789", "2.699770012", "0.776099832", "3.042749544", "3.259419038", "-4.46256209", "-2.404911822", "-3.207276969", "-2.770617479", "-2.867797381", "-3.378594373", "-3.084490031", "-3.491473624", "-3.827917198", "-3.24428938", "-2.98709859", "-3.107061954", "-4.849372961", "-3.743601917", "-0.511499257", "-3.780286652", "-3.081478096", "-1.906131111", "-2.195100435", "-3.03376777"]
        var z = ["-5.933556483", "-5.699620807", "-5.650399316", "-5.526565548", "-6.368754051", "-6.140579977", "-4.452856335", "-6.590815842", "-4.900621232", "-6.776358598", "-3.299248823", "-6.151185467", "-3.920412511", "-5.765200219", "-5.743341433", "-6.046696429", "-4.551326722", "-4.851285838", "-4.950603329", "-5.142530565", "-6.151635992", "-3.795200489", "-3.939720906", "-6.098026972", "-6.057979511", "-5.60314939", "-6.046424695", "-5.283640654", "-5.31684222", "-3.707576362", "-4.304464199", "-5.658020631", "-5.469346184", "-5.539729187", "-5.764965407", "-5.496557764", "-5.281293709", "-5.394138276", "-4.575662847", "-4.876414383", "-0.692603311", "0.77775568", "0.976464466", "-0.223574148", "2.312929251", "0.935763568", "1.73830554", "2.450414159", "0.866561957", "2.897334565", "2.892995179", "0.622718434", "1.234091667", "3.036598565", "2.143298808", "0.051100666", "0.846815253", "1.712004218", "2.417712026", "0.566564258", "1.633595338", "1.591308795", "1.367253651", "0.392768167", "3.075062581", "1.212757701", "2.404416427", "1.573226769", "2.410314499", "0.709528993", "1.874426854", "0.863663068", "3.334079761", "3.013044361", "0.554351629", "0.094579789", "2.699770012", "0.776099832", "3.042749544", "3.259419038", "-4.46256209", "-2.404911822", "-3.207276969", "-2.770617479", "-2.867797381", "-3.378594373", "-3.084490031", "-3.491473624", "-3.827917198", "-3.24428938", "-2.98709859", "-3.107061954", "-4.849372961", "-3.743601917", "-0.511499257", "-3.780286652", "-3.081478096", "-1.906131111", "-2.195100435", "-3.03376777"]
        var data = [{
            x,
            y,
            z,
            mode: 'markers',
            type: 'scatter3d',
            marker: {
                color: 'rgb(23, 190, 207)',
                size: 2
            }
        }, {
            alphahull: 7,
            opacity: 0.1,
            type: 'mesh3d',
            x,
            y,
            z
        }];

        var layout = {
            autosize: true,
            height: window.innerHeight / 5,
            scene: {
                aspectratio: {
                    x: 1,
                    y: 1,
                    z: 1
                },
                camera: {
                    center: {
                        x: 0,
                        y: 0,
                        z: 0
                    },
                    eye: {
                        x: 1.25,
                        y: 1.25,
                        z: 1.25
                    },
                    up: {
                        x: 0,
                        y: 0,
                        z: 1
                    }
                },
                xaxis: {
                    type: 'linear',
                    zeroline: false
                },
                yaxis: {
                    type: 'linear',
                    zeroline: false
                },
                zaxis: {
                    type: 'linear',
                    zeroline: false
                }
            },
            title: '3d point clustering',
            width: window.innerWidth
        };

        Plotly.d3.csv('https://raw.githubusercontent.com/plotly/datasets/master/alpha_shape.csv', function (err, rows) {

            function unpack(rows, key) {
                return rows.map(function (row) { return row[key]; });
            }
            console.log(rows)
            console.log(unpack(rows, 'x'))
            data = [{
                x: unpack(rows, 'x'),
                y: unpack(rows, 'y'),
                z: unpack(rows, 'z'),
                mode: 'markers',
                type: 'scatter3d',
                marker: {
                    color: 'rgb(23, 190, 207)',
                    size: 2
                }
            }, {
                alphahull: 7,
                opacity: 0.1,
                type: 'mesh3d',
                x: unpack(rows, 'x'),
                y: unpack(rows, 'y'),
                z: unpack(rows, 'z')
            }];

            console.log("data0")
            console.log(data)
            layout = {
                autosize: true,
                height: window.innerHeight / 5,
                scene: {
                    aspectratio: {
                        x: 1,
                        y: 1,
                        z: 1
                    },
                    camera: {
                        center: {
                            x: 0,
                            y: 0,
                            z: 0
                        },
                        eye: {
                            x: 1.25,
                            y: 1.25,
                            z: 1.25
                        },
                        up: {
                            x: 0,
                            y: 0,
                            z: 1
                        }
                    },
                    xaxis: {
                        type: 'linear',
                        zeroline: false
                    },
                    yaxis: {
                        type: 'linear',
                        zeroline: false
                    },
                    zaxis: {
                        type: 'linear',
                        zeroline: false
                    }
                },
                title: '3d point clustering',
                width: window.innerWidth
            };

            Plotly.newPlot('myDiv', data, layout);

        });
        console.log("data")
        console.log(data)
        return (
            <PlotlyComponent className="whatever" data={data} layout={layout} config={config} />
        )
    }
}

export default PlotlyDotChart